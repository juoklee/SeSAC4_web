<html>
    <head>
        <meta charset="UTF-8">
        <title>ex32_login.ejs</title>
        <!-- jQuery CDN-->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <!-- BootStrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
        <!-- BootStrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Axios -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <style>
            @font-face {
                font-family: 'GmarketSansMedium';
                src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
            body {
                font-family: 'GmarketSansMedium';
                background-color: darkseagreen;
            }
            .input-box{
                width: 500px;
                height: 40px;
            }
            .join-button{
                width: 500px;
                height: 40px;
                background-color: darkslategrey;
                color: white;
            }
            #button{
                text-align: center;
            }
            .alert{
                color: red;
            }
        </style>

        <script>
            function sendForm() {
                var form = document.getElementById("form_info");

                axios({
                    method: "post",
                    url: "http://localhost:8080/ex32_login",
                    data: {
                        id: form.id.value,
                        password: form.password.value
                    }
                }).then((a) => { 
                    return a.data;
                }).then((b) => {
                    var button = document.getElementById("button"); 

                    if (button.hasChildNodes()) {
                        button.removeChild( button.childNodes[0]);
                    }

                    var h6 = document.createElement("h6"); 
                    h6.innerText = b.msg;
                    h6.className = "alert";

                    button.appendChild(h6);

                });
            } 
        </script>
    </head>
    
    <body>
        <form id="form_info">
            <div class="row justify-content-center mt-5">
                <div class="col-3"></div>
                <div class="col-4 justify-content-center">
                    <h6 class="fw-bold fs-2 mb-5 text-center">로그인</h6> 
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row justify-content-center">
                <div class="col-3"></div>
                <div class="col-4 justify-content-center">
                    <h6 class="fw-bold">ID</h6>
                    <input class="input-box mb-2" type="text" name="id" placeholder="아이디를 입력하세요" required><br>
                    <h6 class="fw-bold">Password</h6>
                    <input class="input-box mb-2" type="password" name="password" placeholder="비밀번호를 입력하세요" required><br>
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row justify-content-center mt-3">
                <div class="col-3"></div>
                <div class="col-4 justify-content-center">
                    <button class="join-button" type="button" onclick="sendForm();">로그인</button>
                </div>
                <div class="col-4"></div>
            </div>
            <div class="row justify-content-center mt-3">
                <div class="col-3"></div>
                <div id="button" class="col-4 justify-content-center text-center">
                    
                </div>
                <div class="col-4"></div>
            </div>
        </form>
    </body>

    <script>

    </script>
</html>